{"version":3,"sources":["DomDelegatedEventHandle.js"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAWM,uB;;;;;;;;;;;;;AAUL,mCAAY,OAAZ,EAAqB,KAArB,EAA4B,QAA5B,EAAsC,YAAtC,EAAoD;AAAA;;AAAA,gDACnD,wBAAM,OAAN,EAAe,KAAf,EAAsB,QAAtB,CADmD;;AAEnD,SAAK,SAAL,GAAiB,YAAjB;AAFmD;AAGnD;;;;;;;oCAKD,c,6BAAiB;AAChB,OAAI,OAAO,oBAAU,GAAV,CAAc,KAAK,QAAnB,CAAX;AACA,OAAI,WAAW,KAAK,SAApB;AACA,OAAI,MAAM,YAAK,QAAL,CAAc,QAAd,IAA0B,KAAK,UAAL,CAAgB,KAAK,MAArB,EAA6B,SAAvD,GAAmE,KAAK,SAAlF;AACA,OAAI,MAAM,YAAK,QAAL,CAAc,QAAd,IAA0B,QAA1B,GAAqC,KAAK,MAApD;;AAEA,gBAAM,MAAN,CAAa,IAAI,GAAJ,KAAY,EAAzB,EAA6B,KAAK,SAAlC;AACA,OAAI,IAAI,GAAJ,KAAY,IAAI,GAAJ,EAAS,MAAT,KAAoB,CAApC,EAAuC;AACtC,WAAO,IAAI,GAAJ,CAAP;AACA;AACD,G;;;;;mBAGa,uB","file":"node_modules/metal-dom/src/DomDelegatedEventHandle.js","sourcesContent":["'use strict';\n\nimport { array, core } from 'metal';\nimport metalData from './metalData';\nimport { EventHandle } from 'metal-events';\n\n/**\n * This is a special EventHandle, that is responsible for dom delegated events\n * (only the ones that receive a target element, not a selector string).\n * @extends {EventHandle}\n */\nclass DomDelegatedEventHandle extends EventHandle {\n\t/**\n\t * The constructor for `DomDelegatedEventHandle`.\n\t * @param {!Event} emitter Element the event was subscribed to.\n\t * @param {string} event The name of the event that was subscribed to.\n\t * @param {!Function} listener The listener subscribed to the event.\n\t * @param {string=} opt_selector An optional selector used when delegating\n\t *     the event.\n\t * @constructor\n\t */\n\tconstructor(emitter, event, listener, opt_selector) {\n\t\tsuper(emitter, event, listener);\n\t\tthis.selector_ = opt_selector;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tremoveListener() {\n\t\tvar data = metalData.get(this.emitter_);\n\t\tvar selector = this.selector_;\n\t\tvar arr = core.isString(selector) ? data.delegating[this.event_].selectors : data.listeners;\n\t\tvar key = core.isString(selector) ? selector : this.event_;\n\n\t\tarray.remove(arr[key] || [], this.listener_);\n\t\tif (arr[key] && arr[key].length === 0) {\n\t\t\tdelete arr[key];\n\t\t}\n\t}\n}\n\nexport default DomDelegatedEventHandle;\n"],"sourceRoot":"/source/"}